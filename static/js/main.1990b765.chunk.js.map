{"version":3,"sources":["components/StockCard/StockCard.js","components/Main/Main.js","App.js","index.js"],"names":["color","arg","renderTitle","data","className","symbol","dayChange","atualPrice","StockCard","title","bordered","style","width","key","name","quantity","diff","toFixed","purchasePrice","closeYesterday","stocksOptions","Main","useState","stocks","setStocks","request","a","axios","get","response","responseOi","concat","forEach","stock","stockOption","price","parseFloat","close_yesterday","day_change","reducer","accumulator","currentValue","totalInvestments","map","x","reduce","totalReceived","red","green","type","onClick","length","value","valueStyle","precision","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1990b765.chunk.js","sourcesContent":["import React from \"react\";\nimport { Card, Icon } from \"antd\";\n\nimport './StockCard.css'\n\nconst color = (arg) => arg < 0 ? \"colorRed\" : \"colorGreen\"\n\nconst renderTitle = data => (\n  <div className=\"title\">\n    <span>{data.symbol}</span>\n    <span className={color(data.dayChange)}>R$ {data.atualPrice}</span>\n  </div>\n)\n\nconst StockCard = ({ data }) => (\n  <Card title={renderTitle(data)} bordered style={{ width: 400 }}>\n    <div key={data.name}>\n      <h3>{data.name}</h3>\n      <p>Quantidade: {data.quantity}</p>\n      <p>Patrimonio: <span className={color(data.diff)}>R$ {(data.atualPrice * data.quantity).toFixed(2)}</span></p>\n      <p>Preço de compra: R$ {data.purchasePrice}</p>\n      <p>Preço Atual: R$ {data.atualPrice}</p>\n      <p>Fechamento no dia antetior: R$ {data.closeYesterday}</p>\n      <p>Variação do dia: <span className={color(data.dayChange)}>{data.dayChange}%</span></p>\n      <p>\n        {data.diff < 0 ? \"Perdendo: \" : \"Ganhando: \"}\n        <span className={color(data.diff)}>R$ {(data.diff * data.quantity).toFixed(2)}</span>\n      </p>\n    </div>\n  </Card>\n);\n\nexport default StockCard;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { Button, Statistic, Icon } from \"antd\";\n\nimport StockCard from \"../StockCard/StockCard\";\n\nimport \"./Main.css\";\n\nconst stocksOptions = [\n  { symbol: \"TAEE4.SA\", purchasePrice: 9.64, quantity: 12 },\n  { symbol: \"OIBR3.SA\", purchasePrice: 0.97, quantity: 17 },\n  { symbol: \"PETR4.SA\", purchasePrice: 29.84, quantity: 4 },\n  { symbol: \"TRPL4.SA\", purchasePrice: 23.11, quantity: 4 },\n  { symbol: \"ITSA4.SA\", purchasePrice: 14.12, quantity: 11 },\n  { symbol: \"BBSE3.SA\", purchasePrice: 35.28, quantity: 3 },\n  { symbol: \"GOAU4.SA\", purchasePrice: 7.58, quantity: 10 },\n];\n\nconst Main = () => {\n  const [stocks, setStocks] = useState([]);\n\n  const request = async () => {\n    const response = await axios.get(\n      `https://api.worldtradingdata.com/api/v1/stock?symbol=TAEE4.SA,PETR4.SA,TRPL4.SA,ITSA4.SA,BBSE3.SA&&stock_exchange_short=BVMF&&api_token=CUeb5shDBvISI2poCkahG9cSB9LXTP33EJrB3yfc8EWwb4LtJsjlxjWCexXe`\n    );\n\n    const responseOi = await axios.get(\n      `https://api.worldtradingdata.com/api/v1/stock?symbol=OIBR3.SA,GOAU4.SA&&stock_exchange_short=BVMF&&api_token=CUeb5shDBvISI2poCkahG9cSB9LXTP33EJrB3yfc8EWwb4LtJsjlxjWCexXe`\n    );\n\n    // const responseHistory = await axios.get(\n    //   `https://api.worldtradingdata.com/api/v1/history?symbol=TAEE4.SA,PETR4.SA,TRPL4.SA,ITSA4.SA,IRBR3.SA&sort=newest&date_from=2019-10-30&date_to=2019-11-05&api_token=CUeb5shDBvISI2poCkahG9cSB9LXTP33EJrB3yfc8EWwb4LtJsjlxjWCexXe`\n    // );\n    setStocks(response.data.data.concat(responseOi.data.data));\n  };\n\n  stocks.forEach(stock => {\n    stocksOptions.forEach(stockOption => {\n      if (stock.symbol === stockOption.symbol) {\n        stockOption.name = stock.name;\n        stockOption.atualPrice = stock.price;\n        stockOption.symbol = stock.symbol;\n        stockOption.diff = parseFloat(stock.price) - stockOption.purchasePrice;\n        stockOption.closeYesterday = stock.close_yesterday;\n        stockOption.dayChange = stock.day_change\n      }\n    });\n  });\n\n  const reducer = (accumulator, currentValue) => accumulator + currentValue\n\n  const totalInvestments = stocksOptions\n    .map(x => x.purchasePrice * x.quantity)\n    .reduce(reducer)\n    .toFixed(2);\n\n  const totalReceived = stocksOptions\n    .map(x => x.atualPrice * x.quantity)\n    .reduce(reducer);\n\n  const red = { color: \"red\" };\n  const green = { color: \"green\" };\n\n  return (\n    <div>\n      <Button type=\"primary\" className=\"btn\" onClick={() => request()}>\n        Obtenha os resultados mais recentes\n      </Button>\n      {stocks.length > 0 && (\n        <>\n          <div className=\"status\">\n            <Statistic\n              title=\"Total Investido\"\n              value={`R$ ${totalInvestments}`}\n            />\n            <Statistic\n              valueStyle={totalReceived < totalInvestments ? red : green}\n              title=\"Patrimônio total\"\n              value={`R$ ${totalReceived.toFixed(2)}`}\n              precision={2}\n            />\n            <Icon type=\"arrow-right\" />\n            <Statistic\n              valueStyle={totalReceived < totalInvestments ? red : green}\n              title=\"Diferença\"\n              value={`R$ ${(totalInvestments - totalReceived).toFixed(2)}`}\n              precision={2}\n            />\n          </div>\n          <div className=\"main\">\n            {stocksOptions.map(stock => (\n              <StockCard data={stock} key={stock.name} />\n            ))}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Main;\n","import React from 'react';\nimport Main from './components/Main/Main';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Main />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}